{"version":3,"sources":["helpers/getSearch.ts","components/Search/Search.tsx","helpers/debounce.ts","helpers/useLocalStroage.ts","context/CartContext.tsx","context/FavouriteContext.tsx","components/Logo/Logo.tsx","components/NavBar/NavBar.tsx","components/Footer/BackToTop.tsx","components/Footer/Footer.tsx","components/Slider/Slider.tsx","assets/banner-phone.png","assets/banner-tablets.png","assets/banner-accessories.png","helpers/fetchPhones.ts","types/ProductType.ts","api.ts","components/Loader/Loader.tsx","components/AddToFavourites/AddToFavourites.tsx","components/AddToCart/AddToCart.tsx","components/PhoneCard/PhoneCard.tsx","components/ProductSLider/ProductSLider.tsx","components/ShopByCategory/ShopByCategory.tsx","pages/HomePage/HomePage.tsx","components/BreadCrumbs/BreadCrumbs.tsx","helpers/generateBreadCrumbs.ts","components/DropDown/DropDown.tsx","helpers/sortoptions.ts","components/Pagination/RenderPageNumbers.tsx","components/Pagination/Pagination.tsx","helpers/generatePageQuantity.ts","components/NoResult/NoResult.tsx","pages/1/ProductPage/ProductPage.tsx","components/BackButton/BackButton.tsx","pages/ProductCardPage/ProductCardPage.tsx","components/CartItem/CartItem.tsx","components/PopUp/Popup.tsx","pages/CartPage/CartPage.tsx","helpers/getDisableScrollOnPopup.ts","pages/FavouritePage/FavouritePage.tsx","App.tsx","index.tsx"],"names":["getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","Search","useSearchParams","searchParams","setSearchParams","query","get","useState","appliedQuery","setAppliedQuery","location","useLocation","currentPath","pathname","split","applyQuery","useCallback","callback","delay","timerId","args","window","clearTimeout","setTimeout","debounce","className","type","placeholder","slice","onChange","event","target","currentPage","handleQueryChange","aria-label","onClick","useLocalStorage","initialValue","data","localStorage","getItem","JSON","parse","setValue","setItem","stringify","CartContext","React","createContext","productsInCart","setProductsInCart","CartProvider","children","useMemo","Provider","FavouriteContext","favouriteProducts","setFavouriteProducts","FavouriteProvider","Logo","to","NavBar","currentLocation","useContext","showMobileMenu","setShowMobileMenu","showSearch","includes","favItemsQuantity","length","cartItemsQuantity","reduce","prevValue","currentValue","quantity","toggleMobileMenu","prevShowMobileMenu","useEffect","document","documentElement","style","overflow","handleLinkClick","cn","show","active","isActive","BackToTopButton","scrollTo","top","behavior","Footer","images","Slider","activeSlideIndex","setActiveSlideIndex","nextSlide","prevIndex","interval","setInterval","clearInterval","map","imageUrl","index","opacity","src","alt","_imageUrl","onKeyDown","handleDotKeyDown","BASE_URL","wait","Promise","resolve","request","url","method","options","body","headers","then","fetch","response","ok","Error","json","ProductType","client","getProductCard","id","Loader","data-cy","AddToFavourites","handleAddToFavourites","isItemFavourite","AddToCart","handleAddToCart","isProductAdded","some","cartItem","phoneId","ProductCard","product","image","name","price","fullPrice","screen","capacity","ram","itemId","category","productWithDetails","setProductWithDetails","isLoading","setIsLoading","isError","setIsError","a","productFromServer","loadProduct","topRef","useRef","favProd","isItemInCart","item","ref","state","updateCart","filter","newProduct","updateFavurite","ProductsSlider","memo","title","products","startIndex","setStartIndex","visibleCards","isPrevButtonDisabled","isNextButtonDisabled","prevStartIndex","Math","max","disabled","min","card","ShopByCategory","getQuantityByCategory","arrProducts","Phone","Tablet","Accessory","HomePage","getHotPriceProducts","sort","b","getBrandNewProducts","year","BreadCrumbs","pathNames","breadCrumbs","path","link","label","charAt","toUpperCase","getBreadCrumbs","breadCrumb","isLast","itemClasses","DropDown","isOpen","setIsOpen","toggleDropDown","prevOpen","filteredOptions","obj","i","self","findIndex","o","selectedOption","find","option","handleEscape","addEventListener","removeEventListener","preventDefault","role","tabIndex","newValue","sortOptions","PageNumber","page","startInd","lastIndex","pageNumber","search","Pagination","productsLength","pageSize","pages","totalPage","ceil","pageNumbers","push","generatePageQuantity","lastPage","NoResult","ProductPage","sortBy","useParams","categoryProducts","filteredProducts","normalizedQuery","toLowerCase","trim","sortedProducts","productsCopy","localeCompare","visibleProducts","pageSizes","showPagination","String","BackButton","navigate","useNavigate","ProductCardPage","currentProductDetails","setCurrentProductDetails","currentProduct","setCurrentProduct","currentImage","setCurrentImage","productId","getCurrentProduct","details","prod","fav","suggestedProducts","random","colorsAvailable","color","replace","capacityAvailable","priceDiscount","priceRegular","updatedCart","newProd","updateFavourites","resolution","processor","description","text","camera","zoom","cell","PLUS","MINUS","CartItem","itemValue","handleRemoveItem","productInCart","handleChangeQuantity","action","Popup","onClose","CartPage","showPopup","setShowPopup","totalPrice","totalQuantity","handleShowPopup","prev","bodyElement","querySelector","classList","add","remove","useDisableScrollOnPopup","FavouritePage","App","setProducts","loadProducts","productsFromServer","element","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f0a36a05.chunk.js","sourcesContent":["export type SearchParams = {\n  [key: string]: string | string[] | null;\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(currentParams.toString());\n\n  Object.entries(paramsToUpdate).forEach(([key, value]) => {\n    if (value === null) {\n      newParams.delete(key);\n    } else if (Array.isArray(value)) {\n      newParams.delete(key);\n\n      value.forEach((part) => {\n        newParams.append(key, part);\n      });\n    } else {\n      newParams.set(key, value);\n    }\n  });\n\n  return newParams.toString();\n}\n","import './Search.scss';\nimport React, { useCallback, useState } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { debounce } from '../../helpers/debounce';\nimport { getSearchWith } from '../../helpers/getSearch';\n\nexport const Search: React.FC = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n  const [appliedQuery, setAppliedQuery] = useState(query);\n\n  const location = useLocation();\n  const currentPath = location.pathname.split('/')[1];\n\n  const applyQuery = useCallback(\n    debounce(setSearchParams, 1000), [currentPath],\n  );\n\n  const handleQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    applyQuery(getSearchWith(searchParams, {\n      query: event.target.value || null,\n      currentPage: '1',\n    }));\n\n    setAppliedQuery(event.target.value);\n  };\n\n  const handleResetQuery = () => {\n    setAppliedQuery('');\n\n    setSearchParams(getSearchWith(searchParams, { query: null }));\n  };\n\n  return (\n    <div className=\"search\">\n      <input\n        type=\"text\"\n        className=\"search__input\"\n        placeholder={`Search in ${location.pathname.slice(21)}...`}\n        value={appliedQuery}\n        onChange={(event) => handleQueryChange(event)}\n      />\n      <div className=\"search__button\">\n        {query ? (\n          <button\n            type=\"button\"\n            aria-label=\"reset button\"\n            className=\"search__reset\"\n            onClick={handleResetQuery}\n          />\n        ) : (\n          <div className=\"search__icon\" />\n        )}\n      </div>\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport function debounce<T extends(...args: any[]) => void>(\n  callback: T,\n  delay: number) {\n  let timerId = 0;\n\n  return (...args: Parameters<T>) => {\n    window.clearTimeout(timerId);\n\n    timerId = window.setTimeout(() => {\n      callback(...args);\n    }, delay);\n  };\n}\n","import { useState } from 'react';\nimport { Phone } from '../types/Phone';\n\nexport const useLocalStorage = (\n  key: string,\n  initialValue: Phone[],\n): [Phone[],\n    (value: Phone[]\n    ) => void] => {\n  const [value, setValue] = useState<Phone[]>(() => {\n    try {\n      const data = localStorage.getItem(key);\n\n      return data ? JSON.parse(data) : initialValue;\n    } catch {\n      return initialValue;\n    }\n  });\n\n  const save = (data: Phone[]) => {\n    setValue(data);\n    localStorage.setItem(key, JSON.stringify(data));\n  };\n\n  return [value, save];\n};\n","import React, { useMemo } from 'react';\nimport { useLocalStorage } from '../helpers/useLocalStroage';\nimport { ProductCardType } from '../types/ProductCard';\n\ntype Props = {\n  children: React.ReactNode,\n};\n\ntype ContextType = {\n  productsInCart: ProductCardType[],\n  setProductsInCart: (value: ProductCardType[]) => void,\n};\n\nexport const CartContext = React.createContext<ContextType>({\n  productsInCart: [],\n  setProductsInCart: () => {},\n});\n\nexport const CartProvider: React.FC<Props> = ({ children }) => {\n  const [productsInCart, setProductsInCart]\n    = useLocalStorage('cart', []);\n\n  const value = useMemo(() => (\n    { productsInCart, setProductsInCart }\n  ), [productsInCart]);\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useLocalStorage } from '../helpers/useLocalStroage';\nimport { ProductCardType } from '../types/ProductCard';\n\ntype Props = {\n  children: React.ReactNode,\n};\n\ntype ContextType = {\n  favouriteProducts: ProductCardType[],\n  setFavouriteProducts: (value: ProductCardType[]) => void,\n};\n\nexport const FavouriteContext = React.createContext<ContextType>({\n  favouriteProducts: [],\n  setFavouriteProducts: () => {},\n});\n\nexport const FavouriteProvider: React.FC<Props> = ({ children }) => {\n  const [favouriteProducts, setFavouriteProducts]\n    = useLocalStorage('favourite', []);\n\n  const value = useMemo(() => (\n    { favouriteProducts, setFavouriteProducts }\n  ), [favouriteProducts]);\n\n  return (\n    <FavouriteContext.Provider value={value}>\n      {children}\n    </FavouriteContext.Provider>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Logo.scss';\n\nexport const Logo: React.FC = () => (\n  <Link\n    to=\"/react_phone-catalog\"\n    className=\"logo\"\n  >\n    <div className=\"logo__img\" />\n  </Link>\n);\n","import React, {\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport cn from 'classnames';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport './NavBar.scss';\nimport { Search } from '../Search/Search';\nimport { CartContext } from '../../context/CartContext';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport { Logo } from '../Logo/Logo';\n\nexport const NavBar: React.FC = () => {\n  const currentLocation = useLocation();\n  const { favouriteProducts } = useContext(FavouriteContext);\n  const { productsInCart } = useContext(CartContext);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n\n  const showSearch = [\n    '/react_phone-catalog/phones',\n    '/react_phone-catalog/favourite',\n    '/react_phone-catalog/tablets',\n    '/react_phone-catalog/accessories',\n    '/react_phone-catalog/favourite',\n  ].includes(currentLocation.pathname);\n\n  const favItemsQuantity = useMemo(() => {\n    return favouriteProducts.length;\n  }, [favouriteProducts]);\n\n  const cartItemsQuantity = useMemo(() => {\n    return productsInCart.reduce((prevValue, currentValue) => {\n      return prevValue + currentValue.quantity;\n    }, 0);\n  }, [productsInCart]);\n\n  const toggleMobileMenu = () => {\n    setShowMobileMenu((prevShowMobileMenu) => !prevShowMobileMenu);\n  };\n\n  useEffect(() => {\n    if (showMobileMenu) {\n      document.documentElement.style.overflow = 'hidden';\n    } else {\n      document.documentElement.style.overflow = 'auto';\n    }\n\n    return () => {\n      document.documentElement.style.overflow = 'auto';\n    };\n  }, [showMobileMenu]);\n\n  const handleLinkClick = () => {\n    setShowMobileMenu(false);\n  };\n\n  return (\n    <header className=\"header\">\n      <nav className=\"header__nav\">\n        <Logo />\n\n        <button\n          type=\"button\"\n          className=\"header__burger\"\n          onClick={toggleMobileMenu}\n        >\n          <div className=\"header__burger--icon\" />\n        </button>\n\n        <div className={cn('header__mobile mobile', {\n          show: showMobileMenu,\n          'show-menu': showMobileMenu,\n        })}\n        >\n          <div className=\"mobile__header\">\n            <Logo />\n\n            <button\n              type=\"button\"\n              className=\"mobile__burger\"\n              onClick={toggleMobileMenu}\n            >\n              <div className=\"mobile__burger--icon\" />\n            </button>\n          </div>\n\n          <div className=\"mobile__search\">\n            {showSearch && <Search />}\n          </div>\n          <ul className=\"mobile__menu\">\n            <li className=\"mobile__item\">\n              <NavLink\n                to=\"/react_phone-catalog/\"\n                className=\"header__link\"\n                onClick={handleLinkClick}\n              >\n                Home\n              </NavLink>\n            </li>\n            <li className=\"mobile__item\">\n              <NavLink\n                to=\"/react_phone-catalog/phones\"\n                className=\"header__link\"\n                onClick={handleLinkClick}\n              >\n                Phones\n              </NavLink>\n            </li>\n            <li className=\"mobile__item\">\n              <NavLink\n                to=\"/react_phone-catalog/tablets\"\n                className=\"header__link\"\n                onClick={handleLinkClick}\n              >\n                Tablets\n              </NavLink>\n            </li>\n            <li className=\"mobile__item\">\n              <NavLink\n                to=\"/react_phone-catalog/accessories\"\n                className=\"header__link\"\n                onClick={handleLinkClick}\n              >\n                Accessories\n              </NavLink>\n            </li>\n          </ul>\n\n          <div className=\"mobile__buttons\">\n            <NavLink\n              to=\"/react_phone-catalog/favourite\"\n              className=\"header__button header__button--fav mobile__button\"\n              onClick={handleLinkClick}\n            >\n              <span className={cn('header__quantity', {\n                active: favItemsQuantity > 0,\n              })}\n              >\n                {favItemsQuantity}\n              </span>\n            </NavLink>\n            <NavLink\n              to=\"/react_phone-catalog/cart\"\n              className=\"header__button header__button--cart mobile__button\"\n              onClick={handleLinkClick}\n            >\n              <span className={cn('header__quantity', {\n                active: cartItemsQuantity > 0,\n              })}\n              >\n                {cartItemsQuantity}\n              </span>\n            </NavLink>\n          </div>\n        </div>\n\n        <ul className=\"header__menu\">\n          <li className=\"header__item\">\n            <NavLink\n              to=\"/react_phone-catalog/\"\n              className={({ isActive }) => cn(\n                'header__link',\n                { 'header__link--active': isActive },\n              )}\n            >\n              Home\n            </NavLink>\n          </li>\n          <li className=\"header__item\">\n            <NavLink\n              to=\"/react_phone-catalog/phones\"\n              className={({ isActive }) => cn(\n                'header__link',\n                { 'header__link--active': isActive },\n              )}\n            >\n              Phones\n            </NavLink>\n          </li>\n          <li className=\"header__item\">\n            <NavLink\n              to=\"/react_phone-catalog/tablets\"\n              className={({ isActive }) => cn(\n                'header__link',\n                { 'header__link--active': isActive },\n              )}\n            >\n              Tablets\n            </NavLink>\n          </li>\n          <li className=\"header__item\">\n            <NavLink\n              to=\"/react_phone-catalog/accessories\"\n              className={({ isActive }) => cn(\n                'header__link',\n                { 'header__link--active': isActive },\n              )}\n            >\n              Accessories\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      <div className=\"header__buttons\">\n        {showSearch && <Search />}\n        <NavLink\n          to=\"/react_phone-catalog/favourite\"\n          className=\"header__button header__button--fav\"\n        >\n          <span className={cn('header__quantity', {\n            active: favItemsQuantity > 0,\n          })}\n          >\n            {favItemsQuantity}\n          </span>\n        </NavLink>\n        <NavLink\n          to=\"/react_phone-catalog/cart\"\n          className=\"header__button header__button--cart\"\n        >\n          <span className={cn('header__quantity', {\n            active: cartItemsQuantity > 0,\n          })}\n          >\n            {cartItemsQuantity}\n          </span>\n        </NavLink>\n      </div>\n    </header>\n  );\n};\n","import React from 'react';\nimport './BackToTop.scss';\n\nexport const BackToTopButton = () => {\n  const scrollUp = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <div className=\"scrollUp\">\n      <span\n        className=\"scrollUp__text\"\n      >\n        Back to top\n      </span>\n\n      <button\n        className=\"scrollUp__button\"\n        type=\"button\"\n        aria-label=\"Back to top\"\n        onClick={scrollUp}\n      >\n        <div className=\"scrollUp__arrow\" />\n      </button>\n    </div>\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Logo } from '../Logo/Logo';\nimport { BackToTopButton } from './BackToTop';\nimport './Footer.scss';\n\nconst gitHubLink = 'https://github.com/ZadorozhnyiYevhenii';\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className=\"footer\">\n      <Logo />\n\n      <nav className=\"footer__nav\">\n        <ul className=\"footer__list\">\n          <NavLink\n            to={gitHubLink}\n            className=\"footer__item\"\n          >\n            github\n          </NavLink>\n          <NavLink\n            to=\"/contacts\"\n            className=\"footer__item\"\n          >\n            contacts\n          </NavLink>\n          <NavLink\n            to=\"/rights\"\n            className=\"footer__item\"\n          >\n            rights\n          </NavLink>\n        </ul>\n      </nav>\n\n      <div className=\"footer_button\">\n        <BackToTopButton />\n      </div>\n    </footer>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport cn from 'classnames';\nimport './Slider.scss';\nimport phone from '../../assets/banner-phone.png';\nimport tablet from '../../assets/banner-tablets.png';\nimport accessories from '../../assets/banner-accessories.png';\n\nconst images = [\n  phone,\n  tablet,\n  accessories,\n];\n\nexport const Slider: React.FC = () => {\n  const [activeSlideIndex, setActiveSlideIndex] = useState<number>(0);\n\n  const nextSlide = () => {\n    setActiveSlideIndex((prevIndex) => (prevIndex + 1) % images.length);\n  };\n\n  const prevSlide = () => {\n    setActiveSlideIndex((prevIndex) => (prevIndex === 0\n      ? images.length - 1\n      : prevIndex - 1));\n  };\n\n  const handleDotKeyDown = (\n    event: React.KeyboardEvent<HTMLSpanElement>,\n    index: number,\n  ) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      setActiveSlideIndex(index);\n    }\n  };\n\n  useEffect(() => {\n    const interval = setInterval(nextSlide, 5000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"carousel\">\n        <div className=\"carousel__content\">\n          <button\n            onClick={prevSlide}\n            className=\"carousel__button\"\n            type=\"button\"\n          >\n            <span className=\"carousel__arrow--left\" />\n          </button>\n\n          <div className=\"carousel__images\">\n            {images.map((imageUrl, index) => (\n              <div\n                className=\"carousel__image\"\n                key={imageUrl}\n                style={{\n                  opacity: index === activeSlideIndex ? 1 : 0,\n                }}\n              >\n                <img\n                  src={imageUrl}\n                  alt={`Slide ${index + 1}`}\n                  className=\"carousel__img\"\n                />\n              </div>\n            ))}\n          </div>\n\n          <button\n            onClick={nextSlide}\n            className=\"carousel__button\"\n            type=\"button\"\n          >\n            <span className=\"carousel__arrow--right\" />\n          </button>\n        </div>\n\n        <div className=\"carousel__dots\">\n          {images.map((_imageUrl, index) => (\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div\n              onKeyDown={(event) => handleDotKeyDown(event, index)}\n              className={cn('carousel__dot', {\n                active: index === activeSlideIndex,\n              })}\n              key={_imageUrl}\n              onClick={() => setActiveSlideIndex(index)}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/banner-phone.d7be5435.png\";","export default __webpack_public_path__ + \"static/media/banner-tablets.a962057c.png\";","export default __webpack_public_path__ + \"static/media/banner-accessories.bdd2e0fc.png\";","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL\n  = 'https://mate-academy.github.io/react_phone-catalog/_new';\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\n// returns a promise resolved after a given delay\nfunction wait(delay: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","export enum ProductType {\n  Phone = 'phones',\n  Tablet = 'tablet',\n  Accessory = 'accessory',\n}\n","import { client } from './helpers/fetchPhones';\nimport { Phone } from './types/Phone';\nimport { ProductDetails } from './types/PhoneDetails';\nimport { ProductCardType } from './types/ProductCard';\n\nexport const getProducts = () => {\n  return client.get<Phone[]>('/products.json');\n};\n\nexport const getProduct = (id: string) => {\n  return client.get<ProductDetails>(`/products/${id}.json`);\n};\n\nexport const getProductCard = (id: string) => {\n  return client.get<ProductCardType>(`/products/${id}.json`);\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\nimport cn from 'classnames';\nimport './AddToFavourite.scss';\n\ntype Props = {\n  handleAddToFavourites: () => void,\n  isItemFavourite: boolean,\n};\n\nexport const AddToFavourites: React.FC<Props> = ({\n  handleAddToFavourites,\n  isItemFavourite,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      aria-label=\"fav\"\n      onClick={handleAddToFavourites}\n      data-cy=\"addToFavorite\"\n      className={cn('favourite', {\n        isItemFavourite,\n      })}\n    />\n  );\n};\n","import React, { useContext } from 'react';\nimport cn from 'classnames';\nimport './AddToCart.scss';\nimport { CartContext } from '../../context/CartContext';\n\ntype Props = {\n  handleAddToCart: () => void,\n  id: string,\n};\n\nexport const AddToCart: React.FC<Props> = ({ handleAddToCart, id }) => {\n  const { productsInCart } = useContext(CartContext);\n\n  const isProductAdded = productsInCart.some(\n    (cartItem) => (\n      cartItem.phoneId === id || cartItem.id === id\n    )\n    && cartItem.quantity !== 0,\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={cn('AddToCartButton', {\n        isProductAdded,\n      })}\n      onClick={() => {\n        handleAddToCart();\n      }}\n    >\n      {isProductAdded ? 'Added to cart' : 'Add to cart' }\n    </button>\n  );\n};\n","import './PhoneCard.scss';\nimport React, {\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { getProductCard } from '../../api';\nimport { Loader } from '../Loader/Loader';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport { AddToFavourites } from '../AddToFavourites/AddToFavourites';\nimport { CartContext } from '../../context/CartContext';\nimport { AddToCart } from '../AddToCart/AddToCart';\nimport { ProductCardType } from '../../types/ProductCard';\n\ntype Props = {\n  product: ProductCardType;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    image,\n    name,\n    price,\n    fullPrice,\n    screen,\n    capacity,\n    ram,\n    itemId,\n    category,\n    id,\n  } = product;\n  const [productWithDetails, setProductWithDetails]\n    = useState<ProductCardType>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const { favouriteProducts, setFavouriteProducts }\n    = useContext(FavouriteContext);\n  const { productsInCart, setProductsInCart } = useContext(CartContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    const loadProduct = async () => {\n      try {\n        const productFromServer = await getProductCard(itemId);\n\n        setProductWithDetails(productFromServer);\n      } catch {\n        setIsError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadProduct();\n\n    return () => {\n      setIsLoading(false);\n    };\n  }, []);\n\n  const topRef = useRef<HTMLDivElement>(null);\n\n  const isItemFavourite = favouriteProducts.some(favProd => favProd.id === id);\n\n  const handleAddToFavourites = () => {\n    if (isItemFavourite) {\n      const updateFavurite = favouriteProducts.filter(\n        favProd => favProd.id !== id,\n      );\n\n      setFavouriteProducts(updateFavurite);\n\n      return;\n    }\n\n    setFavouriteProducts([...favouriteProducts, product]);\n  };\n\n  const isItemInCart = productsInCart.some(item => item.id === id);\n\n  const handleAddToCart = () => {\n    if (isItemInCart) {\n      const updateCart = productsInCart.filter(\n        cartItem => cartItem.id !== id,\n      );\n\n      setProductsInCart(updateCart);\n\n      return;\n    }\n\n    const newProduct = {\n      ...product,\n      quantity: 1,\n    };\n\n    setProductsInCart([...productsInCart, newProduct]);\n  };\n\n  return (\n    <div className=\"ProductCard\" ref={topRef}>\n      <div className=\"ProductCard__content\">\n        {isError && !isLoading && (\n          <div className=\"ProductCard__error\">\n            <h2>Product download error</h2>\n          </div>\n        )}\n        {isLoading && !isError ? (\n          <Loader />\n        ) : !isError && (\n          <>\n            {productWithDetails && (\n              <Link\n                to={`/react_phone-catalog/${category}/${itemId}`}\n                state={productWithDetails}\n                className=\"ProductCard__photo\"\n                onClick={() => {\n                  window.scrollTo({\n                    top: 0,\n                  });\n                }}\n              >\n                <img\n                  src={`https://mate-academy.github.io/react_phone-catalog/_new/${image}`}\n                  alt=\"product\"\n                  className=\"ProductCard__img\"\n                />\n              </Link>\n            )}\n\n            <div className=\"ProductCard__wrap\">\n              <div className=\"ProductCard__title\">{name}</div>\n\n              <div className=\"ProductCard__price\">\n                <div className=\"ProductCard__price-normal\">{`$${price}`}</div>\n                {price && (\n                  <div className=\"ProductCard__price-discounted\">{`$${fullPrice}`}</div>\n                )}\n              </div>\n\n              <div className=\"ProductCard__details\">\n                <div className=\"ProductCard__details-item\">\n                  <div className=\"ProductCard__details-item__name\">Screen</div>\n                  <div className=\"ProductCard__details-item__value\">\n                    {screen || '-'}\n                  </div>\n                </div>\n                <div className=\"ProductCard__details-item\">\n                  <div className=\"ProductCard__details-item__name\">\n                    Capacity\n                  </div>\n                  <div className=\"ProductCard__details-item__value\">\n                    {capacity || '-'}\n                  </div>\n                </div>\n                <div className=\"ProductCard__details-item\">\n                  <div className=\"ProductCard__details-item__name\">RAM</div>\n                  <div className=\"ProductCard__details-item__value\">\n                    {ram || '-'}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"ProductCard__buttons\">\n                <AddToCart\n                  handleAddToCart={handleAddToCart}\n                  id={id}\n                />\n                <AddToFavourites\n                  handleAddToFavourites={handleAddToFavourites}\n                  isItemFavourite={isItemFavourite}\n                />\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo, useState } from 'react';\nimport cn from 'classnames';\nimport './ProductSlider.scss';\nimport { Phone } from '../../types/Phone';\nimport { ProductCard } from '../PhoneCard/PhoneCard';\n\ntype Props = {\n  title: string;\n  products: Phone[];\n};\n\nexport const ProductsSlider: React.FC<Props> = React.memo(\n  ({ title, products }) => {\n    const [startIndex, setStartIndex] = useState(0);\n\n    const handlePrevClick = () => {\n      setStartIndex((prevStartIndex) => Math.max(0, prevStartIndex - 1));\n    };\n\n    const handleNextClick = () => {\n      setStartIndex((prevStartIndex) => Math.min(\n        prevStartIndex + 1, products.length - 4,\n      ));\n    };\n\n    const visibleCards = useMemo(() => {\n      return products.slice(startIndex, startIndex + 4);\n    }, [products, startIndex]);\n\n    const isPrevButtonDisabled = startIndex === 0;\n    const isNextButtonDisabled = startIndex === products.length - 4;\n\n    return (\n      <div className=\"container\">\n        <div className=\"ProductsSlider\">\n          <div className=\"ProductsSlider__content\">\n            <h2 className=\"ProductsSlider__title\">{title}</h2>\n\n            <div className=\"ProductsSlider__buttons\">\n              <button\n                type=\"button\"\n                onClick={handlePrevClick}\n                disabled={isPrevButtonDisabled}\n                className={cn('ProductsSlider__button', {\n                  disabled: isPrevButtonDisabled,\n                })}\n              >\n                <div className=\"arrow--left\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleNextClick}\n                disabled={isNextButtonDisabled}\n                className={cn('ProductsSlider__button', {\n                  disabled: isNextButtonDisabled,\n                })}\n              >\n                <div className=\"arrow--right\" />\n              </button>\n            </div>\n          </div>\n\n          <div\n            className={cn('ProductsSlider__cards',\n              { 'ProductsSlider__card--animated': startIndex !== 0 })}\n            data-cy=\"cardsContainer\"\n          >\n            {visibleCards.map((card) => (\n              <div className=\"ProductsSlider__card\" key={card.id}>\n                <ProductCard product={card} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n","import React from 'react';\nimport './ShopByCategory.scss';\nimport { Link } from 'react-router-dom';\nimport { Phone } from '../../types/Phone';\nimport { ProductType } from '../../types/ProductType';\n\ntype Props = {\n  products: Phone[],\n};\n\nexport const ShopByCategory: React.FC<Props> = ({ products }) => {\n  const getQuantityByCategory = (\n    arrProducts: Phone[],\n    type: ProductType,\n  ) => arrProducts.filter((product) => product.category === type).length;\n\n  return (\n    <div className=\"container\">\n      <div className=\"category\">\n        <div className=\"category__container\">\n          <h2 className=\"category__title\">Shop by category</h2>\n\n          <div className=\"category__links\" data-cy=\"categoryLinksContainer\">\n            <Link\n              to=\"/react_phone-catalog/phones\"\n              className=\"category__link\"\n            >\n              <div className=\"category__image category__image--phone\" />\n              <h3 className=\"category__description\">Mobile phones</h3>\n              <h4 className=\"category__quantity\">\n                {`${getQuantityByCategory(products, ProductType.Phone)} models`}\n              </h4>\n            </Link>\n\n            <Link\n              to=\"/react_phone-catalog/tablets\"\n              className=\"category__link\"\n            >\n              <div className=\"category__image category__image--tablet\" />\n              <h3 className=\"category__description\">Tablets</h3>\n              <h4 className=\"category__quantity\">\n                {`${getQuantityByCategory(products, ProductType.Tablet)} models`}\n              </h4>\n            </Link>\n\n            <Link\n              to=\"/react_phone-catalog/accessories\"\n              className=\"category__link\"\n            >\n              <div className=\"category__image category__image--accessory\" />\n              <h3 className=\"category__description\">Accessories</h3>\n              <h4 className=\"category__quantity\">\n                {`${getQuantityByCategory(products, ProductType.Accessory)} models`}\n              </h4>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { Slider } from '../../components/Slider/Slider';\nimport './HomePage.scss';\nimport { ProductsSlider } from '../../components/ProductSLider/ProductSLider';\nimport { Phone } from '../../types/Phone';\nimport { ShopByCategory } from '../../components/ShopByCategory/ShopByCategory';\n\ntype Props = {\n  products: Phone[];\n};\n\nexport const HomePage: React.FC<Props> = React.memo(({ products }) => {\n  const getHotPriceProducts = useMemo(() => {\n    return products\n      .filter((product) => product.price)\n      .sort((a, b) => b.price - a.price);\n  }, [products]);\n\n  const getBrandNewProducts = useMemo(() => {\n    return [...products].sort((a, b) => b.year - a.year);\n  }, [products]);\n\n  return (\n    <>\n      <Slider />\n\n      <ProductsSlider\n        title=\"Hot prices\"\n        products={getHotPriceProducts}\n      />\n\n      <ShopByCategory products={products} />\n\n      <ProductsSlider title=\"Brand new models\" products={getBrandNewProducts} />\n    </>\n  );\n});\n","import React, { Fragment } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { getBreadCrumbs } from '../../helpers/generateBreadCrumbs';\nimport './BreadCrumbs.scss';\n\nexport const BreadCrumbs: React.FC = () => {\n  const location = useLocation();\n\n  const pathNames = location.pathname\n    .split('/')\n    .filter((category) => category !== '');\n\n  const breadCrumbs = getBreadCrumbs(pathNames);\n\n  return (\n    <nav className=\"breadCrumbs\">\n      <ul className=\"breadCrumbs__list\">\n        <li className=\"breadCrumbs__item\">\n          <Link to=\"/react_phone-catalog\">\n            <div className=\"breadCrumbs__icon\" />\n          </Link>\n        </li>\n\n        {breadCrumbs.length !== 0 && (<div className=\"breadCrumbs__arrow\" />)}\n\n        {breadCrumbs.map((breadCrumb, index) => {\n          const isLast = index === pathNames.length - 1;\n          const itemClasses = cn('breadCrumbs__item', {\n            active: isLast,\n          });\n\n          return (\n            <Fragment key={breadCrumb.link}>\n              {isLast ? (\n                <li className={itemClasses} key={breadCrumb.link}>\n                  {breadCrumb.label}\n                </li>\n              ) : (\n                <>\n                  <li className={itemClasses} key={breadCrumb.link}>\n                    <Link\n                      to=\"/react_phone-catalog/phones\"\n                      className=\"breadCrumbs__item--link\"\n                    >\n                      {breadCrumb.label}\n                    </Link>\n                  </li>\n\n                  {breadCrumbs.length !== 0 && (\n                    <div className=\"breadCrumbs__arrow\" />\n                  )}\n                </>\n              )}\n            </Fragment>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n};\n","export const getBreadCrumbs = (path: string[]) => {\n  let link = '';\n\n  return path.map((category) => {\n    link += `/${category}`;\n\n    return {\n      label: category.charAt(0).toUpperCase() + category.slice(1),\n      link,\n    };\n  });\n};\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\nimport React, { useEffect, useState } from 'react';\nimport cn from 'classnames';\nimport './DropDown.scss';\n\ntype Option = {\n  value: string,\n  label: string,\n};\n\ntype Props = {\n  options: Option[],\n  value: string,\n  onChange: (newValue: string) => void,\n};\n\nexport const DropDown: React.FC<Props> = ({\n  options,\n  value,\n  onChange,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleDropDownChange = (newValue: string) => {\n    onChange(newValue);\n    setIsOpen(false);\n  };\n\n  const toggleDropDown = () => {\n    setIsOpen((prevOpen) => !prevOpen);\n  };\n\n  const filteredOptions = options.filter(\n    (obj, i, self) => self.findIndex((o) => o.value === obj.value) === i,\n  );\n\n  const selectedOption = filteredOptions.find(\n    (option) => option.value === value,\n  );\n\n  if (filteredOptions[0].label === 'All') {\n    filteredOptions.length = 1;\n  }\n\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, []);\n\n  const handleKeyBoardEvent = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      toggleDropDown();\n    }\n  };\n\n  return (\n    <div className=\"DropDown\">\n      <div\n        className={cn('DropDown__select', {\n          'DropDown__select--is-active': isOpen,\n        })}\n        onClick={toggleDropDown}\n        onKeyDown={handleKeyBoardEvent}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {selectedOption ? selectedOption.label : ''}\n      </div>\n      {isOpen && (\n        <ul className=\"DropDown__list\">\n          {filteredOptions.map((option) => (\n            <li\n              key={option.value}\n              className={cn('DropDown__item', {\n                'DropDown__item--selected': value === option.value,\n              })}\n              onClick={() => handleDropDownChange(option.value)}\n            >\n              {option.label}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n","export const sortOptions = [\n  { value: 'age', label: 'Newest' },\n  { value: 'name', label: 'Alphabetically' },\n  { value: 'price', label: 'Cheapest' },\n];\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { getSearchWith } from '../../helpers/getSearch';\nimport './Pagination.scss';\n\nexport const PageNumber = (\n  page: number[],\n  currentPage: number,\n  searchParams: URLSearchParams,\n) => {\n  const maxPage = 3;\n  const startInd = currentPage <= maxPage\n    ? 2\n    : currentPage - (maxPage - 2);\n\n  const lastIndex = Math.min(startInd + maxPage, page.length - 1);\n\n  return page.slice(startInd, lastIndex).map((pageNumber) => (\n    <Link\n      key={pageNumber}\n      to={{\n        search: getSearchWith(searchParams, {\n          currentPage: `${pageNumber}`,\n        }),\n      }}\n      className={cn('pagination__button', 'pagination__button--page', {\n        active: currentPage === pageNumber,\n      })}\n    >\n      {pageNumber}\n    </Link>\n  ));\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport './Pagination.scss';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { generatePageQuantity } from '../../helpers/generatePageQuantity';\nimport { getSearchWith } from '../../helpers/getSearch';\nimport { PageNumber } from './RenderPageNumbers';\n\ntype Props = {\n  productsLength: number,\n  pageSize: number,\n  currentPage: number,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  productsLength,\n  pageSize,\n  currentPage,\n}) => {\n  const [searchParams] = useSearchParams();\n\n  const pages = generatePageQuantity(productsLength, pageSize);\n  const firstPage = 1;\n  const lastPage = pages.length - 1;\n\n  return (\n    <div className=\"pagination\">\n      <Link\n        className=\"pagination__button pagination__button--prev\"\n        to={{\n          search: getSearchWith(searchParams, {\n            currentPage: currentPage !== firstPage ? `${currentPage - 1}` : '1',\n          }),\n        }}\n      >\n        <div className=\"pagination__arrow pagination__arrow--left\" />\n      </Link>\n\n      {pages.length > 2 && (\n        <Link\n          to={{\n            search: getSearchWith(searchParams, {\n              currentPage: `${firstPage}`,\n            }),\n          }}\n          className={cn('pagination__button', 'pagination__button--page', {\n            active: currentPage === firstPage,\n          })}\n          key={firstPage}\n        >\n          {1}\n        </Link>\n      )}\n\n      {(pages.length > 3 && currentPage > 3) && <div className=\"pagination__dots\">...</div>}\n\n      {PageNumber(pages, currentPage, searchParams)}\n\n      {(pages.length - 1 > currentPage\n        && pages.length > 3) && <div className=\"pagination__dots\">...</div>}\n\n      <Link\n        key={lastPage}\n        to={{\n          search: getSearchWith(searchParams, {\n            currentPage: `${lastPage}`,\n          }),\n        }}\n        className={cn('pagination__button', 'pagination__button--page', {\n          active: currentPage === lastPage,\n        })}\n      >\n        {lastPage}\n      </Link>\n\n      <Link\n        to={{\n          search: getSearchWith(searchParams, {\n            currentPage:\n              currentPage !== lastPage ? `${currentPage + 1}` : `${lastPage}`,\n          }),\n        }}\n        className=\"pagination__button pagination__button--next\"\n      >\n        <div className=\"pagination__arrow pagination__arrow--right\" />\n      </Link>\n    </div>\n  );\n};\n","export const generatePageQuantity\n= (productsLength: number, pageSize: number) => {\n  const totalPage = Math.ceil(productsLength / pageSize);\n  const pageNumbers = [];\n\n  for (let i = 0; i <= totalPage; i += 1) {\n    pageNumbers.push(i);\n  }\n\n  return pageNumbers;\n};\n","import React from 'react';\nimport './NoResult.scss';\n\ntype Props = {\n  title: string,\n};\n\nexport const NoResult: React.FC<Props> = ({ title }) => (\n  <div className=\"notFound\">\n    <h1 className=\"notFound__title\">\n      {`${title} not found`}\n    </h1>\n  </div>\n);\n","import './ProductPage.scss';\nimport React, { useMemo } from 'react';\nimport { useSearchParams, useParams } from 'react-router-dom';\nimport { Phone } from '../../../types/Phone';\nimport { ProductType } from '../../../types/ProductType';\nimport { getSearchWith } from '../../../helpers/getSearch';\nimport { BreadCrumbs } from '../../../components/BreadCrumbs/BreadCrumbs';\nimport { DropDown } from '../../../components/DropDown/DropDown';\nimport { sortOptions } from '../../../helpers/sortoptions';\nimport { ProductCard } from '../../../components/PhoneCard/PhoneCard';\nimport { Pagination } from '../../../components/Pagination/Pagination';\nimport { NoResult } from '../../../components/NoResult/NoResult';\n\ntype Props = {\n  products: Phone[],\n};\n\nexport const ProductPage: React.FC<Props> = React.memo(({ products }) => {\n  const smallestPageSize = 4;\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n  const sortBy = searchParams.get('sortBy') || 'age';\n  const pageSize = searchParams.get('pageSize') || smallestPageSize;\n  const currentPage = searchParams.get('currentPage') || 1;\n  const { category } = useParams();\n\n  let title = '';\n\n  if (category) {\n    const categories = ['phones', 'tablets', 'accessories'];\n\n    if (categories.includes(category)) {\n      switch (category) {\n        case 'phones':\n          title = 'Mobile phones';\n          break;\n\n        case 'tablets':\n          title = 'Tablets';\n          break;\n\n        case 'accessories':\n          title = 'Accessories';\n          break;\n\n        default:\n          title = 'Page';\n      }\n    } else {\n      title = 'Page';\n    }\n  }\n\n  const categoryProducts = useMemo(() => {\n    const validCategories = ['phones', 'tablets', 'accessories'];\n\n    if (category && validCategories.includes(category)) {\n      return products.filter((product) => {\n        switch (category) {\n          case 'phones':\n            return product.category === ProductType.Phone;\n          case 'tablets':\n            return product.category === ProductType.Tablet;\n          case 'accessories':\n            return product.category === ProductType.Accessory;\n          default:\n            return false;\n        }\n      });\n    }\n\n    return [];\n  }, [products, category]);\n\n  const handleSortChange = (newValue: string) => {\n    setSearchParams(\n      getSearchWith(\n        searchParams,\n        {\n          sortBy: newValue || null,\n          currentPage: '1' || null,\n        },\n      ),\n    );\n  };\n\n  const handlePageSizeChange = (newValue: string) => {\n    setSearchParams(\n      getSearchWith(\n        searchParams,\n        {\n          pageSize: newValue || null,\n          currentPage: '1',\n        },\n      ),\n    );\n  };\n\n  const filteredProducts = useMemo(() => {\n    return categoryProducts.filter(product => {\n      const normalizedQuery = query.toLowerCase().trim();\n      const normalizedName = product.name.toLowerCase().trim();\n\n      return normalizedName.includes(normalizedQuery);\n    });\n  }, [categoryProducts, query]);\n\n  const sortedProducts = useMemo(() => {\n    const productsCopy = [...filteredProducts];\n\n    switch (sortBy) {\n      case 'name':\n        productsCopy.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n\n      case 'price':\n        productsCopy.sort((a, b) => a.price - b.price);\n        break;\n\n      case 'age':\n        productsCopy.sort((a, b) => b.year - a.year);\n        break;\n\n      default:\n        productsCopy.sort((a, b) => b.year - a.year);\n        break;\n    }\n\n    return productsCopy;\n  }, [sortBy, filteredProducts]);\n\n  const startIndex = (+currentPage - 1) * +pageSize;\n  const lastIndex = startIndex + +pageSize;\n  const visibleProducts = useMemo(() => {\n    return sortedProducts.slice(startIndex, +lastIndex);\n  }, [sortedProducts, startIndex, lastIndex]);\n  const productsLength = sortedProducts.length;\n  const pageSizes = [smallestPageSize, 8, 16, productsLength];\n  const showPagination = productsLength > smallestPageSize\n    && +pageSize !== +productsLength;\n\n  return (\n    <div className=\"productPage\">\n      <div className=\"container\">\n        {!visibleProducts.length && !query && (\n          <>\n            <BreadCrumbs />\n            <NoResult title={title} />\n          </>\n        )}\n\n        {!visibleProducts.length && query ? (\n          <p className=\"productPage__empty\">No Results</p>\n        ) : !!visibleProducts.length && (\n          <div className=\"productPage__content\">\n            <BreadCrumbs />\n            <h1 className=\"productPage__title\">{title}</h1>\n            <h3 className=\"productPage__subtitle\">{`${productsLength} models`}</h3>\n\n            <div className=\"productPage__filters\">\n              <div className=\"productPage__filter\">\n                <div className=\"productPage__label\">\n                  Sort by\n                </div>\n\n                <DropDown\n                  options={sortOptions}\n                  value={sortBy}\n                  onChange={handleSortChange}\n                />\n              </div>\n\n              <div className=\"productPage__filter\">\n                <div className=\"productPage__label\">\n                  Items on page\n                </div>\n\n                <DropDown\n                  options={pageSizes.map((page) => ({\n                    value: String(page),\n                    label: page === productsLength ? 'All' : String(page),\n                  }))}\n                  value={String(pageSize)}\n                  onChange={handlePageSizeChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"productPage__list\">\n              {visibleProducts.map((product) => (\n                <ProductCard product={product} key={product.id} />\n              ))}\n            </div>\n\n            {showPagination && productsLength > 0 && (\n              <Pagination\n                currentPage={+currentPage}\n                pageSize={+pageSize}\n                productsLength={productsLength}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './BackButton.scss';\n\nexport const BackButton: React.FC = () => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => navigate(-1)}\n      className=\"back\"\n    >\n      <div className=\"back__image\" />\n      <span className=\"back__title\">Back</span>\n    </button>\n  );\n};\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport './ProductCardPage.scss';\nimport React, {\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport cn from 'classnames';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { Phone } from '../../types/Phone';\nimport { Loader } from '../../components/Loader/Loader';\nimport { BreadCrumbs } from '../../components/BreadCrumbs/BreadCrumbs';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { ProductDetails } from '../../types/PhoneDetails';\nimport { AddToCart } from '../../components/AddToCart/AddToCart';\nimport { AddToFavourites }\n  from '../../components/AddToFavourites/AddToFavourites';\nimport { CartContext } from '../../context/CartContext';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport { getProduct } from '../../api';\nimport { ProductsSlider } from '../../components/ProductSLider/ProductSLider';\n\ntype Props = {\n  products: Phone[],\n};\n\nexport const ProductCardPage: React.FC<Props> = ({ products }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentProductDetails, setCurrentProductDetails]\n    = useState<ProductDetails>();\n  const [currentProduct, setCurrentProduct] = useState<Phone>();\n  const [currentImage, setCurrentImage] = useState(currentProduct?.image);\n\n  const location = useLocation();\n  const { pathname } = location;\n  const { productId = '' } = useParams();\n\n  const { productsInCart, setProductsInCart } = useContext(CartContext);\n  const { favouriteProducts, setFavouriteProducts }\n    = useContext(FavouriteContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n  }, []);\n\n  const getCurrentProduct = async () => {\n    try {\n      const details = await getProduct(productId);\n      const prod = products.find((product) => product.phoneId === productId);\n\n      if (productId === details.id) {\n        setCurrentProduct(prod);\n        setCurrentProductDetails(details);\n      }\n    } catch (error) {\n      throw new Error('Error product details');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getCurrentProduct();\n  }, [productId]);\n\n  useEffect(() => {\n    if (currentProductDetails?.images[0] !== currentImage) {\n      setCurrentImage(currentProductDetails?.images[0]);\n    }\n  }, [currentProductDetails?.images]);\n\n  const isItemInCart = productsInCart.some(\n    (cartItem) => cartItem.phoneId === currentProductDetails?.id,\n  );\n\n  const handleAddToCart = () => {\n    if (isItemInCart) {\n      const updatedCart = productsInCart.filter(\n        (cartItem) => cartItem.phoneId !== currentProductDetails?.id,\n      );\n\n      setProductsInCart(updatedCart);\n\n      return;\n    }\n\n    if (currentProduct) {\n      const newProd = {\n        ...currentProduct,\n        quantity: 1,\n      };\n\n      setProductsInCart([...productsInCart, newProd]);\n    }\n  };\n\n  const isItemFavourite = favouriteProducts.some(\n    (fav) => fav.phoneId === currentProductDetails?.id,\n  );\n\n  const handleAddToFavourites = () => {\n    if (isItemFavourite) {\n      const updateFavourites = favouriteProducts.filter(\n        (fav) => fav.phoneId !== currentProductDetails?.id,\n      );\n\n      setFavouriteProducts(updateFavourites);\n\n      return;\n    }\n\n    if (currentProduct) {\n      setFavouriteProducts([...favouriteProducts, currentProduct]);\n    }\n  };\n\n  const suggestedProducts = useMemo(() => {\n    const reccomended = [...products].sort(() => Math.random() - 0.5);\n\n    return reccomended.filter((prod) => prod.id !== currentProduct?.id);\n  }, [products, currentProduct]);\n\n  return (\n    <div className=\"ProductDetailsPage\">\n      {isLoading && <Loader />}\n\n      <div className=\"container\">\n        {currentProductDetails && !isLoading && (\n          <div className=\"ProductDetailsPage__content\">\n            <BreadCrumbs />\n\n            <div className=\"productPage__back\">\n              <BackButton />\n            </div>\n\n            <h1 className=\"ProductDetailsPage__title\">\n              {currentProductDetails?.name}\n            </h1>\n\n            <div className=\"ProductDetailsPage__main\">\n              <ul className=\"ProductDetailsPage__list\">\n                {currentProductDetails?.images.map((image) => (\n                  <li\n                    key={image}\n                    className=\"ProductDetailsPage__photo\"\n                    onClick={() => setCurrentImage(image)}\n                  >\n                    <img\n                      className=\"ProductDetailsPage__photo-img\"\n                      src={`https://mate-academy.github.io/react_phone-catalog/_new/${image}`}\n                      alt=\"product img\"\n                    />\n                  </li>\n                ))}\n              </ul>\n\n              <div className=\"ProductDetailsPage__current\">\n                <img\n                  src={`https://mate-academy.github.io/react_phone-catalog/_new/${currentImage}`}\n                  alt=\"main img\"\n                  className=\"ProductDetailsPage__current-img\"\n                />\n              </div>\n\n              <div className=\"ProductDetailsPage__characteristics\">\n                <div className=\"ProductDetailsPage__colors colors\">\n                  <div className=\"colors__text\">Available colors</div>\n                  <div className=\"colors__list\">\n                    {currentProductDetails?.colorsAvailable.map((color) => (\n                      <Link\n                        to={\n                          pathname.replace(\n                            currentProductDetails?.color,\n                            color,\n                          )\n                        }\n                        className={cn('colors__link', {\n                          'colors__link-active':\n                            color === currentProductDetails?.color,\n                        })}\n                        key={color}\n                      >\n                        <div\n                          className={`colors__link-color colors__link-color--${color}`}\n                        />\n                      </Link>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"ProductDetailsPage__capacities capacities\">\n                  <div className=\"capacities__text\">Select capacity</div>\n                  <div className=\"capacities__list\">\n                    {currentProductDetails?.capacityAvailable.map(\n                      (capacity) => (\n                        <Link\n                          to={pathname.replace(\n                            currentProductDetails?.capacity.toLowerCase(),\n                            capacity.toLowerCase(),\n                          )}\n                          key={capacity}\n                          type=\"button\"\n                          className={cn('capacities__link', {\n                            'capacities__link-active':\n                              capacity === currentProductDetails?.capacity,\n                          })}\n                        >\n                          {capacity}\n                        </Link>\n                      ),\n                    )}\n                  </div>\n                </div>\n                <div className=\"ProductDetailsPage__price price\">\n                  <div className=\"price__normal\">{`$${currentProductDetails?.priceDiscount}`}</div>\n\n                  {currentProduct && (\n                    <div className=\"price__without-discount\">{`$${currentProductDetails?.priceRegular}`}</div>\n                  )}\n                </div>\n                <div className=\"ProductDetailsPage__buttons buttons\">\n                  <AddToCart\n                    handleAddToCart={handleAddToCart}\n                    id={productId}\n                  />\n                  <AddToFavourites\n                    handleAddToFavourites={handleAddToFavourites}\n                    isItemFavourite={isItemFavourite}\n                  />\n                </div>\n                <div className=\"ProductDetailsPage__details details\">\n                  <div className=\"details__item\">\n                    <div className=\"details__name\">Screen</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.screen || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item\">\n                    <div className=\"details__name\">Resolution</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.resolution || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item\">\n                    <div className=\"details__name\">Processor</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.processor || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item\">\n                    <div className=\"details__name\">RAM</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.ram || '-'}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"ProductDetailsPage__id\">\n                <div className=\"ProductDetailsPage__id-name\">ID:</div>\n                <div className=\"ProductDetailsPage__id-value\">\n                  {currentProductDetails?.id || '-'}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"ProductDetailsPage__info\">\n              <div\n                className=\"ProductDetailsPage__about about\"\n                data-cy=\"productDescription\"\n              >\n                <h2 className=\"about__title\">About</h2>\n\n                <div className=\"about__description\">\n                  {currentProductDetails?.description.map(\n                    ({ text }) => text,\n                  )}\n                </div>\n              </div>\n\n              <div className=\"ProductDetailsPage__tech tech\">\n                <h2 className=\"tech__title\">Tech specs</h2>\n\n                <div className=\"tech__details details\">\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Screen</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.screen || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Resolution</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.resolution || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Processor</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.processor || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">RAM</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.ram || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Built in memory</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.capacity || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Camera</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.camera || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Zoom</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.zoom || '-'}\n                    </div>\n                  </div>\n                  <div className=\"details__item details__item--tech\">\n                    <div className=\"details__name\">Wifi</div>\n                    <div className=\"details__value\">\n                      {currentProductDetails?.cell || '-'}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"productCardPage__slider\">\n              <ProductsSlider\n                title=\"You may also like\"\n                products={suggestedProducts}\n              />\n            </div>\n          </div>\n        )}\n\n        {!currentProductDetails && !isLoading && (\n          <>\n            <BackButton />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from 'react';\nimport './CartItem.scss';\nimport { Phone } from '../../types/Phone';\nimport { CartContext } from '../../context/CartContext';\n\ntype Props = {\n  product: Phone,\n};\n\nconst PLUS = 'PLUS';\nconst MINUS = 'MINUS';\n\nexport const CartItem: React.FC<Props> = ({ product }) => {\n  const {\n    name,\n    id,\n    quantity,\n    image,\n    price,\n  } = product;\n\n  const { productsInCart, setProductsInCart } = useContext(CartContext);\n\n  const itemValue = price * quantity;\n\n  const handleRemoveItem = (itemId: string) => {\n    setProductsInCart(\n      productsInCart.filter(productInCart => productInCart.id !== itemId),\n    );\n  };\n\n  const handleChangeQuantity = (itemId: string, action: string) => {\n    const isItemInCart\n      = productsInCart.some(cartItem => cartItem.id === itemId);\n\n    if (quantity && isItemInCart) {\n      if (action === PLUS) {\n        setProductsInCart(productsInCart.map(productInCart => {\n          if (productInCart.id === itemId) {\n            return {\n              ...productInCart,\n              quantity: quantity + 1,\n            };\n          }\n\n          return productInCart;\n        }));\n      }\n\n      if (action === MINUS) {\n        setProductsInCart(productsInCart.map(productInCart => {\n          if (productInCart.id === itemId) {\n            return {\n              ...productInCart,\n              quantity: quantity - 1,\n            };\n          }\n\n          return productInCart;\n        }));\n      }\n\n      if (quantity === 0) {\n        handleRemoveItem(itemId);\n      }\n    }\n  };\n\n  return (\n    <div className=\"cartItem\">\n      <button\n        type=\"button\"\n        className=\"cartItem__removeBtn\"\n        onClick={() => handleRemoveItem(id)}\n      >\n        <div className=\"cartItem__cross\" />\n      </button>\n      <div className=\"cartItem__photo\">\n        <img src={`https://mate-academy.github.io/react_phone-catalog/_new/${image}`} alt=\"product img\" className=\"cartItem__img\" />\n      </div>\n      <div className=\"cartItem__title\">\n        {name}\n      </div>\n      <button\n        type=\"button\"\n        className=\"cartItem__decrease\"\n        onClick={() => handleChangeQuantity(id, MINUS)}\n      >\n        -\n      </button>\n      <div\n        className=\"cartItem__quantity\"\n      >\n        {quantity}\n      </div>\n      <button\n        type=\"button\"\n        className=\"cartItem__increase\"\n        onClick={() => handleChangeQuantity(id, PLUS)}\n      >\n        +\n      </button>\n      <div className=\"cartItem__price\">{`$${itemValue}`}</div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './Popup.scss';\n\ntype Props = {\n  onClose: () => void,\n};\n\nexport const Popup: React.FC<Props> = ({ onClose }) => {\n  return (\n    <div className=\"popup\">\n      <div className=\"popup__container\">\n        <h2 className=\"popup__title\">\n          We are sorry, but this feature is not implemented yet\n        </h2>\n        <button className=\"popup__btn\" onClick={onClose} type=\"button\">\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext, useMemo, useState } from 'react';\nimport './CartPage.scss';\nimport { Link } from 'react-router-dom';\nimport { CartContext } from '../../context/CartContext';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { CartItem } from '../../components/CartItem/CartItem';\nimport { Popup } from '../../components/PopUp/Popup';\nimport { useDisableScrollOnPopup } from '../../helpers/getDisableScrollOnPopup';\n\nexport const CartPage: React.FC = () => {\n  const { productsInCart } = useContext(CartContext);\n  const [showPopup, setShowPopup] = useState(false);\n\n  const totalPrice = productsInCart.reduce(\n    (prevValue, currentValue) => prevValue\n      + currentValue.price\n      * currentValue.quantity, 0,\n  );\n\n  const totalQuantity = useMemo(() => {\n    return productsInCart.reduce((prevValue, currentValue) => {\n      return prevValue + currentValue.quantity;\n    }, 0);\n  }, [productsInCart]);\n\n  const handleShowPopup = () => {\n    setShowPopup((prev) => prev === false);\n  };\n\n  useDisableScrollOnPopup(showPopup);\n\n  return (\n    <div className=\"CartPage\">\n      <div className=\"container\">\n        <div className=\"CartPage__content\">\n          <BackButton />\n\n          {totalQuantity === 0 ? (\n            <h1 className=\"CartPage__title CartPage__title--no-products\">\n              Your cart is empty. Maybe you want to choose something in\n              {' '}\n              <Link className=\"CartPage__link\" to=\"/react_phone-catalog/phones\">\n                Phones\n              </Link>\n              ,\n              {' '}\n              <Link\n                className=\"CartPage__link\"\n                to=\"/react_phone-catalog/tablets\"\n              >\n                Tablets\n              </Link>\n              {' '}\n              or\n              {' '}\n              <Link\n                className=\"CartPage__link\"\n                to=\"/react_phone-catalog/accessories\"\n              >\n                Accessories\n              </Link>\n              {' '}\n              ?\n            </h1>\n          ) : (\n            <>\n              <h1 className=\"CartPage__title\">Cart</h1>\n\n              <div className=\"CartPage__blocks\">\n                <div className=\"CartPage__list\">\n                  {productsInCart.map(product => {\n                    if (product.quantity === 0) {\n                      return false;\n                    }\n\n                    return <CartItem product={product} key={product.id} />;\n                  })}\n                </div>\n\n                <div className=\"CartPage__checkout\">\n                  <div className=\"CartPage__checkout-content\">\n                    <div className=\"CartPage__checkout-title\">{`$${totalPrice}`}</div>\n\n                    <div\n                      className=\"CartPage__checkout-subtitle\"\n                    >\n                      {`Total for ${totalQuantity} items`}\n                    </div>\n\n                    <button\n                      type=\"button\"\n                      className=\"CartPage__checkout-button\"\n                      onClick={handleShowPopup}\n                    >\n                      Checkout\n                    </button>\n                    {showPopup && <Popup onClose={handleShowPopup} />}\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useEffect } from 'react';\n\nexport const useDisableScrollOnPopup = (showPopup: boolean) => {\n  useEffect(() => {\n    const bodyElement = document.querySelector('body');\n\n    if (bodyElement) {\n      if (showPopup) {\n        bodyElement.classList.add('popup-open');\n        bodyElement.style.overflow = 'hidden';\n      } else {\n        bodyElement.classList.remove('popup-open');\n        bodyElement.style.overflow = 'auto';\n      }\n    }\n\n    return () => {\n      if (bodyElement) {\n        bodyElement.classList.remove('popup-open');\n        bodyElement.style.overflow = 'auto';\n      }\n    };\n  }, [showPopup]);\n};\n","import './FavouritePage.scss';\nimport React, { useContext, useMemo } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { BreadCrumbs } from '../../components/BreadCrumbs/BreadCrumbs';\nimport { FavouriteContext } from '../../context/FavouriteContext';\nimport { ProductCard } from '../../components/PhoneCard/PhoneCard';\n\nexport const FavouritePage: React.FC = () => {\n  const { favouriteProducts } = useContext(FavouriteContext);\n\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n\n  const filteredProducts = useMemo(() => {\n    return favouriteProducts.filter((prod) => {\n      const normalizedQuery = query.toLowerCase().trim();\n      const normalizedName = prod.name.toLowerCase().trim();\n\n      return normalizedName.includes(normalizedQuery);\n    });\n  }, [favouriteProducts, query]);\n\n  return (\n    <div className=\"favourites\">\n      <div className=\"container\">\n        <div className=\"favourites__content\">\n          <BreadCrumbs />\n\n          {filteredProducts.length === 0 && !query && (\n            <h1 className=\"favourites__title favourites__title--nothing\">\n              You have not any favourite products. Maybe you want\n              to choose something\n              {' '}\n              <Link\n                to=\"/react_phone-catalog/phones\"\n                className=\"favourites__link\"\n              >\n                Phone\n              </Link>\n              ,\n              {' '}\n              <Link\n                to=\"/react_phone-catalog/tablets\"\n                className=\"favourites__link\"\n              >\n                Tablets\n              </Link>\n              {' '}\n              or\n              {' '}\n              <Link\n                to=\"/react_phone-catalog/accessories\"\n                className=\"favourites__link\"\n              >\n                Accessories\n              </Link>\n              {' '}\n              ?\n            </h1>\n          )}\n\n          {filteredProducts.length === 0 && query && (\n            <p>No search results</p>\n          )}\n\n          {filteredProducts.length > 0 && (\n            <div className=\"favourites__wrap\">\n              <h1 className=\"favourites__title\">\n                Favourites\n              </h1>\n              <div className=\"favourites__quantity\">\n                {`${filteredProducts.length} items`}\n              </div>\n\n              <div className=\"favourites__list\">\n                {filteredProducts.map((prod) => (\n                  <ProductCard\n                    product={prod}\n                    key={prod.id || prod.phoneId}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { NavBar } from './components/NavBar/NavBar';\nimport './App.scss';\nimport { Footer } from './components/Footer/Footer';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { Phone } from './types/Phone';\nimport { getProducts } from './api';\nimport { CartProvider } from './context/CartContext';\nimport { FavouriteProvider } from './context/FavouriteContext';\nimport { ProductPage } from './pages/1/ProductPage/ProductPage';\nimport { ProductCardPage } from './pages/ProductCardPage/ProductCardPage';\nimport { CartPage } from './pages/CartPage/CartPage';\nimport { FavouritePage } from './pages/FavouritePage/FavouritePage';\n\nconst App: React.FC = () => {\n  const [products, setProducts] = useState<Phone[]>([]);\n\n  const loadProducts = async () => {\n    try {\n      const productsFromServer = await getProducts();\n\n      setProducts(productsFromServer);\n    } catch {\n      throw new Error('Loading products error');\n    }\n  };\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <CartProvider>\n        <FavouriteProvider>\n          <NavBar />\n          <main className=\"main__content\">\n            <Routes>\n              <Route path=\"/react_phone-catalog/\">\n                <Route index element={<HomePage products={products} />} />\n\n                <Route path=\":category\">\n                  <Route\n                    index\n                    element={<ProductPage products={products} />}\n                  />\n\n                  <Route\n                    path=\":productId\"\n                    element={(<ProductCardPage products={products} />)}\n                  />\n                </Route>\n\n                <Route path=\"cart\" element={<CartPage />} />\n                <Route path=\"favourite\" element={<FavouritePage />} />\n              </Route>\n            </Routes>\n          </main>\n          <Footer />\n        </FavouriteProvider>\n      </CartProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport React, { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}